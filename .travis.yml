sudo: required
jdk:
- oraclejdk8
language: java
install:
  - mvn clean
  - travis_wait mvn -q install -U -DskipTests=true
script: travis_wait ci/script.sh
after_success:
- travis_wait ci/deploy_snapshot.sh
- ci/publish-javadoc-to-gh-pages.sh
- discovery/ci/publish_docker.sh
- iaas-vm/ci/publish_docker.sh
- node-agent/ci/publish_docker.sh
- installer/ci/publish_docker.sh
- byon-agent/ci/publish_docker.sh
branches:
  except:
  - gh-pages
addons:
  sonarcloud:
    organization: cloudiator
    token:
      secure: wfO7543m2UX5K96BhhL9FmVH9L+83SWJudcRlEO+WLX/HJZ0tqFLBKfBhIypulvR5Kh96CxDvX7eT4/QPVQlzfgpd3nqqXDMjaX0RR7+P4/lvyeT4fXArE+Yil9EJndBvZTceedmEFlmOrhZoFnSIK6PCCcjCuZmaIapO9CyRzgugEXArBUkILRclMksuBiY4bgbXm67WSAkyDAxKYFiJuMrSDNwry/yJSFdZjOuWWizMKjfdhoqnudOe6eD/WY0iPtf0gt05m17Oa2iAYKKO9DP/4jPZDKlNxRBbrJ4ohFy7yDPglgGMkkgwpRCBIle1kunZTWd7dbe5NUPpmihXFN7cwaTxmUr9S/jzBEjvjtDsZveetymJ8tFnh01CmScCDpbBu1lZFXPKzfrnoqwZ+YcldRbFAy+B4YPBFML3VsUWZN+guosNaXZf01XIgjMm6gDnvO7J7Tn8EwL6o+Il1qeyZADtsccJTVuW6yTi4RXSHpKlbuGGrGYvhWShF15wg64fy714qwKsQt+GpEuMhH9lj6IgdFOdzD6cZ48/o3+zDP2rzwIoY2J1+H4qa+/UFycD8YYGs5E3yE2M3+DVFUsw1OLwWyyb14egvJyI13HG1YE4E+Y+Hy33uANkLuMVaIdLV7wTvgB4ewSjQH9CvzbRRbJtt/99Kd5oqNOv+M=
env:
  global:
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: R4ekDfhIRQjADNk5gOJxMVijcIzsRGhx6UN6dp7IG9h83hp3e3r0KK4XNuAodbEkultKPhVXSqz+wDrpRR2+eWNDm+mDuzQtVmItkTFqxD/6TfOoORLZuO3xCxMD0iONL0WEQ6r/hUusbXtKEX/vjppOIBTRiP6K5wpZqqkmrsiOs9ZpNLm/rW/zklcd77JAbytIJBBlfqppb1QYLfxe6Db5nkuSxNus64hm4b9EMPJp412D36RsSqQR+Z9p+/pivJZwuosmuz98K/TuLvW0ibYg38HBWIx8OBu7E3RCtEB+0N+RsHhv0R33znGdTmBh6YHHAKpHAaRPvkiWOxpdKyehOpmi8T8083qXuA3YDhx/W8QcSZIdghK4Jln9LzUxEnABktVCE4AAwiDA7Nfw86cm4ErDP7Ofvk6NKacJCupxfVSqwrPKGBDW4/kFXbhLeMkHEWc2DE4eTOwr/BX0PGSRNPechRYenzvKGX3l7GFy3IVayMUyOUDykyzoOzJ42BbvjmCNY4CCssGGlzIsI9X1hINF8HLiwmhxOPD69wcf1AkZV5W6LiJmDnFfBJAGniWZfzFQgUJArYFWCd72dWaximt3h3YtfIwHr/tNtNWupUzkR/aTIQ2UvDHoNdGPD6pt2r6zSJI7G4GMo14giLL420P29qX2J3XKqsKcJNA=
  - secure: WWCgr6SM/ULwLFu7qgIww76/h79ZXO2uG/zJv6IUjD31IoTFDjaYbC/1h13Wd9vMpfJJmuVetJLND2QS7D6QmhH214MfYaYt7em+ecdGwAsFQpIeeW0AmAv/AfxhJ9KMCWyWZI7Ks8L+H3UMUPKnPF4R8qy2BJYleoEfzjgNg9xrFxfaUNtDChtaQQOj0KlYGFlOe4lJOSzU6JHmdYV3q0NXsvBq4zhwkALumtJdPtp1pLQUUI/i9/ZmffrwPd5zOb9w9YNljUP6vxXGuKrApfvg48Fr4Zki91zW3F/6EJGx53cw+rl0vL2EJ1G5427/nJFJkDjM6/XsiKiKa/qiKOolEFtDUZmzAz/Q759OsH6N4YonfMS6lyZNXRgI75LnfN5Q5Y7MnUylXizyuTQ+7a3sDgVuDQ/PeDzUsRn+/3jbn54+TCzAzpxFPbTdB1vxWht0pWNgXdjuDBx3nZpHfXks8hlfX0IqBHS5eJiRX2fe+AjlaaTgAP8FBr6wrvgONGxPTkFR5NO3xXsJ/DkH4eWSelXBBE8xHQrBzLSL1HjyXvwsFRLkHEgA11Tf7hbfuc301P3FZaJUE+z2MsiwQYl+rKxlfTnlG3xgaKaBEEc+OY7N5pqQ1KaCgKNOvoV6XrvmCd5CrGySYwi4GIQkMYTPi/0w6q4e6V/44hB27/o=
  - secure: pMuA88d5pfTokDl9wGL7BzJo1T9ZK61be49k9w5k4NBVJy4b5JVKxU3av7ttU2v7PkhhAnuLO3nAnRE3UwBXT8MNu2uyOtqO9zQlZWmeSnC8xyyDIm+uJZQuIpLy56eVRemR//DS13ewbUNr+tGti6dxxDJe7E632n5q6oUV7F52bJ9ykq+hkmmmE01dTYjktpjuUSNKmyXx+XsYZ0KO1UkxK8urprhskPtYq1JybmokdQyK9ycHh7F9RNBa46er3TGdxmxcPWyTpY7So7BO2kDqWjYGUyAfQjoeHjCCWblewtGQkHRuDDNhnicYp+mP+iH6lx17aTKZws8tQ45jxN7YLP6c11/U2hdgkODLqzNnxsiwzTiEbSoflomxsfaBtQB4W8HfJpf5jcgLJ7K5rKFnN5AMoA/KeiHUmxQwT2aT0Lcr9SIvqi/5oUc8p3yktCXmjLKmVG5WAv9M6ToxrBO2TyTtEVfwXlCrNtLhODq4nZ0DUFXIXqu4ZRo8bjYBkh3tNnfumyjXoZ/VAxvHueY6SsRCFxz2NqMmEDW74K+4GYSOd7lJOPDbEAplB6BgDtrAiua0bYMLS48xRb0OhlW7nmM62seVxUBJWIZJ/374qqKhQMigZGoQsHZbr7P0MsqsB8Ejc1l/swZ3FpDXFfVrHHlZYNx7G7SKBL0caew=
  - secure: MdvcaJQT04uxGG++VqE4If92QVKY2PtD33B1eykZr18DOSsjelUPs3qWZ+edSAEaIXn1cOZCuByRHjnFAcKnXlhW3GxskYOpcX6C+RbY3/n6rkwyBU34iuaRKWm2AFgmtwpI7LMCkyj5FazlTchPM3C02uU1K6+GgzptXFt6UrROBwsxrZg+FOCJ3HAs0gRMTj97QZeAgb4D1NaFGKEeo0Q/LyjupYII3Ldp/ebdpCVFcEa/oSdBUsyYNObyNTrspaikebD34B1NwhAPEqxJIANy3EtrQ/NkqwyE5pA5zPtSgJtxm/UGfYRDCl7danULujL9MuSPASBIsBPDY9+euA/rT0oJQRLuDGAWBHNqfLkgg8NRjgFZatkJB8y/PqcLFi98Nq3S6c3kKuApMj2tQaDtI44/v/7CS18R3HtTFNN1/Sz1a0DHMAjiU78hqZtaRnm+C8L5uZ8Pa236audAly3G6DbHZIvCClEhbWRcqDrSDre2DfKaw2b1+SJFopZpffr8dCn2S50rg0zrwkoWVZ8aYZyXDf7k4Wr+VxaUY7bwX1h/Kp51io0fEupRG0/u8tg4nVDg3x/d1Js0UnWghPAeKdau+Kj+mZtqJil1LKWlmBbRkxZhKzI9y/MdAvMz3h08ArUrENBcgyojmyTqCiXzvja7aDVjPwPxkLFfUc8=
  - secure: DciAjFj7eLJUoXVaNFQTwnX2Zn/lx2xusuuDs5ATuCrGysrIjn1sijHL99NMctsd9+4l2T12KcyMl5EN21I4ad0gvpnH0mL2vMpnvXWDCLK6+vAvpwljxAodKbk2BYxN+eiJI/p7nhWNkArG0A9T/KXO99W1BHGTr4ZO/jUZ+C8WFvVcOMcmcC3aooW5GMGBBRfQqqPgvZoxcuniIXWz6zd9+WSkGu2o8kKxIJI95LocZBcSlXWGSIx7/11mXFbnFe7+v9pA6f9keOEa5CsfDTamT0lBGyTtPWOZVfJU9L/Fc927RDygks6tQqFfscv7VpF7GHWf4ZRmN6io0goGTWv24XsAQ45PeeIVdY9CN3wf65ViwXnnP0lsAUv+EppXUQU5DeIbgX9H+0znRC34/iuB5stEDedF8Fu/H0cMNCOrhSlnIHIvVJD+1AhO9MxNEaIig41zj6IFTkFX8UetZUCw0sOSrwIZbsvXKz5B6mSRRw50iGd48Q8ajZbFYJjoUME0M59xZ2HXUFVZ3vV1wvnj40K5HfFrn0wXm/0Gms97iCBBrl6jcyq94rCbEdN0lzt03w8y5x3NfV1/Dr0GnbqTsEPowjsulJWhBzrQrEEjNY0UU3nJ2Roc5lOLutJwkhAw313jzv1fLqAzT08zsH24p9Po5BXAys755ipO7pc=

notifications:
  slack:
    secure: q1deptvd4Y9JPle03uMmrgLtMC8cqwHlDZkdWvXmtR4APb/7ISa/LzpBfDbtMNiTunGPVuqYSq+U8oYgqcI3JI1fXuwjoC+SBMhYdJzA5HrjjfLpjtZ0bMoySG85A1CB+7iGBTO2ZrGlicfrlk9dpZ3c0euuTvNp8BYSMCrEt8SYR5amgguyvHimXrhbQ0sGXYLhiCkMsqSgRxIEmfSWCfBeez0I+fa6zcJS5k8tWpAxg6T+K/NRItreqtz1IimQbrAMFsj3+pbd+LTBgtHp5DliYVAwhcLLYtclD3gM9APAu6Gxgu+GDhYN/pKGGamGoHku8tX+IgovcrqcGetZ22DRgCfjXq/EfbA1dVaEk0xEfe9mD6OcPxI/LEOUUz272IQxAG/z/reZY7CcrsMIcVHUjVMycskGUGH2+15oGNIU11jAovn3LSqY3pshc3p+eN59c/qRgx4IG4uKuUGLbgFz1Su6MIMgDcrEo7pSnaj50s6jDKzrpmWecLxI0a49h2lICXQrK0PumXJhBzSQZdDXB9f1nJQDEDn6z5kP2Gbdii2P94zS7NX+u0vDJaE3aYWZUQTIIGIrIw3uHPDlyW0QKDPFq2Cn+MkcgaCBiVLyxJ7D8JtNlWHcEgQ+KbRPE4q6rNiNpab8Ou87g0BtBIPnGiYlExYhzI0e4U410DM=
